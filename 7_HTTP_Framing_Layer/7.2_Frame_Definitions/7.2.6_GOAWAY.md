---
title: "7.2.6. 关闭帧"
anchor: "7.2.6_GOAWAY"
weight: 70260
rank: "h3"
---

任一终端都可以使用**关闭帧**（类型值为`0x07`）来对一条HTTP/3连接发起优雅关闭。
**关闭帧**允许终端一边结束处理已接收到的请求和推送，一边停止接受新的请求和推送。
这使得一些管理性的操作，例如服务器维护，变为可能。
**关闭帧**本身并不会关闭一条连接。

{{% block_ref
indx="Figure_9_GOAWAY_Frame"
title="图9：关闭帧" %}}

```
关闭帧 {
  类型 (i) = 0x07,
  长度 (i),
  流ID/推送ID (i),
}
```

{{% /block_ref %}}

**关闭帧**总是在控制流上被发送的。
在从服务器至客户端的方向上，它携带着一个QUIC的流ID，指向一个由客户端发起的双向流，并使用可变长度整型编码。
如果客户端接收到的**关闭帧**中的流ID指向的是其他类型的流，那么 {{< req_level MUST >}}将该情况视作类型为`H3_ID_ERROR`的连接错误。

在从客户端至服务器的方向，**关闭帧**携带的是一个推送ID，并使用可变长度整型编码。

**关闭帧**作用于整条连接，而不是某条特定流。
如果客户端在非控制流的某条流上接收到了**关闭帧**，那么 {{< req_level MUST >}}将该情况视作类型为`H3_FRAME_UNEXPECTED`的连接错误。

有关**关闭帧**用法的更多信息，详见[第5.2章]()。
