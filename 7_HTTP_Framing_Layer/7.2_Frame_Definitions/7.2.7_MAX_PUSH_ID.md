---
title: "7.2.7. 最大推送ID帧"
anchor: "7.2.7_MAX_PUSH_ID"
weight: 70270
rank: "h3"
---

客户端使用**最大推送ID帧**（类型值为`0x0d`）来控制服务器可以发起的服务器推送的数量。
它为服务器可以在**推送承诺帧**和**取消推送帧**中使用的推送ID设置了最大值。
因此，除了使用由QUIC传输维护的上限值之外，使用这种帧也可以限制服务器能够发起的推送流数量。

总是在控制流上发送**最大推送ID帧**。
如果在其他流上接收到了**最大推送ID帧**，那么 {{< req_level MUST >}}将该情况视作类型为`H3_FRAME_UNEXPECTED`的连接错误。

服务器{{< req_level MUST_NOT >}}发送**最大推送ID帧**。
如果客户端接收到了**最大推送ID帧**，那么 {{< req_level MUST >}}将该情况视作类型为`H3_FRAME_UNEXPECTED`的连接错误。

在HTTP/3连接刚建立时，最大推送ID的值为空，这意味着服务器在接收到**最大推送ID帧**前不可以发起推送。
愿意管理被服务器承诺的推送的客户端可以通过在服务器兑现或取消推送承诺时发送**最大推送ID帧**的方式提高最大推送ID。

{{% block_ref
indx="Figure_10_MAX_PUSH_ID_Frame"
title="图10：最大推送ID帧" %}}

```
最大推送ID帧 {
  类型 (i) = 0x0d,
  长度 (i),
  推送ID (i),
}
```

{{% /block_ref %}}

**最大推送ID帧**携带着一个可变长度整型，它表示着服务器可以使用的推送ID的最大值；详见[第4.6章]()。
**最大推送ID帧**不能降低最大推送ID；如果接收到的**最大推送ID帧**中包含的值一个比某个曾经接收到的值还小，那么 {{< req_level MUST >}}将该情况视作类型为`H3_ID_ERROR`的连接错误。
